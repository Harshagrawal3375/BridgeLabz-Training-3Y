# UML Diagrams Best Practices with Sample Problems

## Overview

This document presents UML diagram best practices through two comprehensive sample problems:
1. **School Results Application**
2. **Grocery Store Bill Generation Application**

Each problem demonstrates Class Diagrams, Object Diagrams, and Sequence Diagrams following UML best practices.

---

## Best Practices Summary

### Class Diagrams
- ✅ Keep it simple and abstract
- ✅ Use meaningful names (nouns for classes, verbs for methods)
- ✅ Define relationships clearly (Association, Inheritance, Aggregation/Composition)
- ✅ Show proper access modifiers (+, -, #)
- ✅ Group classes into packages when needed

### Object Diagrams
- ✅ Show only relevant objects for the scenario
- ✅ Use clear object names with state information
- ✅ Show important relationships between instances
- ✅ Maintain consistency with class diagrams
- ✅ Avoid redundancy

### Sequence Diagrams
- ✅ Clear and consistent object naming
- ✅ Limit number of objects (focus on scenario)
- ✅ Proper lifelines and activations
- ✅ Meaningful messages with proper ordering
- ✅ Show conditionals/loops when needed
- ✅ Focus on single use case

---

## Sample Problem 1: School Results Application

### Class Diagram

```
┌─────────────────┐              ┌─────────────────┐
│     Student     │              │     Subject     │
├─────────────────┤              ├─────────────────┤
│ - studentId: int│◇─────────────│ - subjectName: String
│ - name: String  │  1      0..*│ - marks: double │
│ - email: String │              │ - maxMarks: double
├─────────────────┤              ├─────────────────┤
│ + getName(): String            │ + getMarks(): double
│ + addSubject(Subject)          │ + getSubjectName(): String
│ + getSubjects(): List          │ + getPercentage(): double
│ + calculateGPA(): double       └─────────────────┘
└─────────────────┘                       │
         │                                │
         │ requests                       │ uses
         ▼                                ▼
┌─────────────────────────────────────────────────┐
│              GradeCalculator                    │
├─────────────────────────────────────────────────┤
│ - gradeScale: Map<String, Double>               │
├─────────────────────────────────────────────────┤
│ + calculateGrade(Student): String               │
│ + calculateGPA(List<Subject>): double           │
│ + generateResult(Student): ResultReport         │
│ - getGradeFromPercentage(double): String        │
└─────────────────────────────────────────────────┘
         │
         │ generates
         ▼
┌─────────────────┐
│   ResultReport  │
├─────────────────┤
│ - student: Student
│ - overallGrade: String
│ - gpa: double   │
│ - generatedDate: Date
├─────────────────┤
│ + displayResult(): void
│ + exportToPDF(): void
└─────────────────┘

Package: edu.school.results

Relationships:
- Student ◇ Subject: Aggregation (subjects can exist without students)
- Student → GradeCalculator: Association (student requests calculation)
- GradeCalculator → ResultReport: Dependency (creates result)
```

### Object Diagram - School Results

```
Snapshot at: 2024-12-15 10:30 AM
Scenario: John's semester results calculation

john_student : Student
├─ studentId = 12345
├─ name = "John Smith"
└─ email = "john.smith@school.edu"
    │
    │ has subjects
    ├─ math_subject : Subject
    │  ├─ subjectName = "Mathematics"
    │  ├─ marks = 90.0
    │  └─ maxMarks = 100.0
    │
    ├─ science_subject : Subject
    │  ├─ subjectName = "Science"
    │  ├─ marks = 85.0
    │  └─ maxMarks = 100.0
    │
    └─ english_subject : Subject
       ├─ subjectName = "English"
       ├─ marks = 78.0
       └─ maxMarks = 100.0

calculator : GradeCalculator
├─ gradeScale = {"A": 90.0, "B": 80.0, "C": 70.0}
└─ current calculation for john_student

result_report : ResultReport
├─ student = john_student
├─ overallGrade = "A"
├─ gpa = 3.8
└─ generatedDate = "2024-12-15"

Object Relationships:
john_student ←→ math_subject, science_subject, english_subject
calculator → john_student (processing)
result_report ← calculator (generated by)
```

### Sequence Diagram - Grade Calculation Process

```
Student        GradeCalculator      Subject           ResultReport
   │                 │                │                    │
   │ calculateGrade()│                │                    │
   ├────────────────→│                │                    │
   │                 │ getSubjects()  │                    │
   │                 ├───────────────→│                    │
   │                 │←───────────────┤                    │
   │                 │    subjects[]  │                    │
   │                 │                │                    │
   │                 │ for each subject:                   │
   │                 │ ┌─────────────────────────────┐     │
   │                 │ │ getMarks()                  │     │
   │                 │ ├────────────→│              │     │
   │                 │ │←────────────┤ marks        │     │
   │                 │ │ getPercentage()            │     │
   │                 │ ├────────────→│              │     │
   │                 │ │←────────────┤ percentage   │     │
   │                 │ └─────────────────────────────┘     │
   │                 │                │                    │
   │                 │ calculateGPA() │                    │
   │                 │ (internal)     │                    │
   │                 │                │                    │
   │                 │ generateResult()                    │
   │                 ├────────────────────────────────────→│
   │                 │                │              create│
   │                 │                │                    │
   │                 │←────────────────────────────────────┤
   │                 │                │           report   │
   │←────────────────┤                │                    │
   │    ResultReport │                │                    │
   │                 │                │                    │
   │ displayResult() │                │                    │
   ├────────────────────────────────────────────────────→│
   │                 │                │                    │

Alt [if export needed]:
   │ exportToPDF()   │                │                    │
   ├────────────────────────────────────────────────────→│
   │                 │                │              ┌─────┴─────┐
   │                 │                │              │ PDF File  │
   │                 │                │              │ Generated │
   │                 │                │              └───────────┘

Messages:
1. calculateGrade(): Student requests grade calculation
2. getSubjects(): Calculator retrieves student's subjects
3. getMarks(), getPercentage(): Extract subject data
4. calculateGPA(): Internal GPA calculation
5. generateResult(): Create result report
6. displayResult(): Show results to student
7. exportToPDF(): Optional PDF export
```

---

## Sample Problem 2: Grocery Store Bill Generation Application

### Class Diagram

```
┌─────────────────┐              ┌─────────────────┐
│    Customer     │              │     Product     │
├─────────────────┤              ├─────────────────┤
│ - customerId: int│◆─────────────│ - productId: int│
│ - name: String  │  1      1..*│ - name: String  │
│ - phone: String │              │ - price: double │
│ - cart: List<CartItem>         │ - category: String
├─────────────────┤              ├─────────────────┤
│ + addToCart(Product, int)      │ + getPrice(): double
│ + removeFromCart(Product)      │ + getName(): String
│ + checkout(): Bill            │ + applyDiscount(double): double
│ + getCartTotal(): double      └─────────────────┘
└─────────────────┘                       │
         │                                │
         │ initiates                      │ contains
         ▼                                ▼
┌─────────────────────────────────────────────────┐
│              BillGenerator                      │
├─────────────────────────────────────────────────┤
│ - taxRate: double                               │
│ - discountRules: List<DiscountRule>             │
├─────────────────────────────────────────────────┤
│ + generateBill(Customer): Bill                  │
│ + calculateSubtotal(List<CartItem>): double     │
│ + applyTax(double): double                      │
│ + applyDiscounts(double): double                │
└─────────────────────────────────────────────────┘
         │
         │ creates
         ▼
┌─────────────────┐              ┌─────────────────┐
│      Bill       │              │    CartItem     │
├─────────────────┤              ├─────────────────┤
│ - billId: int   │◇─────────────│ - product: Product
│ - customer: Customer   1  0..*│ - quantity: int │
│ - items: List<CartItem>        │ - lineTotal: double
│ - subtotal: double             ├─────────────────┤
│ - tax: double   │              │ + calculateTotal(): double
│ - total: double │              │ + getProduct(): Product
│ - timestamp: Date              └─────────────────┘
├─────────────────┤
│ + printBill(): void
│ + saveToDB(): void
│ + sendReceipt(String): void
└─────────────────┘

Package: com.grocery.billing

Relationships:
- Customer ◆ CartItem: Composition (cart items exist only with customer)
- CartItem → Product: Association (references product)
- Customer → BillGenerator: Association (requests bill)
- BillGenerator → Bill: Dependency (creates bill)
- Bill ◇ CartItem: Aggregation (bill contains cart items)
```

### Object Diagram - Grocery Store

```
Snapshot at: 2024-12-15 2:45 PM
Scenario: Alice's shopping checkout

alice_customer : Customer
├─ customerId = 5001
├─ name = "Alice Johnson"
├─ phone = "+1-555-0123"
└─ cart = [apples_item, milk_item, bread_item]
    │
    │ contains items
    ├─ apples_item : CartItem
    │  ├─ quantity = 2
    │  ├─ lineTotal = 6.00
    │  └─ product → apples_product
    │
    ├─ milk_item : CartItem
    │  ├─ quantity = 1
    │  ├─ lineTotal = 2.50
    │  └─ product → milk_product
    │
    └─ bread_item : CartItem
       ├─ quantity = 1
       ├─ lineTotal = 1.99
       └─ product → bread_product

Products:
apples_product : Product
├─ productId = 101
├─ name = "Red Apples"
├─ price = 3.00 (per kg)
└─ category = "Fruits"

milk_product : Product
├─ productId = 201
├─ name = "Whole Milk"
├─ price = 2.50 (per liter)
└─ category = "Dairy"

bread_product : Product
├─ productId = 301
├─ name = "Whole Wheat Bread"
├─ price = 1.99
└─ category = "Bakery"

generator : BillGenerator
├─ taxRate = 0.08
└─ discountRules = [bulk_discount, loyalty_discount]

final_bill : Bill
├─ billId = 10001
├─ customer = alice_customer
├─ subtotal = 10.49
├─ tax = 0.84
├─ total = 11.33
└─ timestamp = "2024-12-15 14:45:33"

Object Relationships:
alice_customer ←→ apples_item, milk_item, bread_item
cart_items → respective products
generator → alice_customer (processing)
final_bill ← generator (generated)
```

### Sequence Diagram - Bill Generation Process

```
Customer      BillGenerator     CartItem       Product        Bill
   │               │               │              │             │
   │ checkout()    │               │              │             │
   ├──────────────→│               │              │             │
   │               │ generateBill()│              │             │
   │               │ getCart()     │              │             │
   │               ├──────────────→│              │             │
   │               │←──────────────┤              │             │
   │               │   cartItems[] │              │             │
   │               │               │              │             │
   │               │ for each item:│              │             │
   │               │ ┌─────────────────────────────────────┐   │
   │               │ │ calculateTotal()                    │   │
   │               │ ├──────────────→│                     │   │
   │               │ │               │ getPrice()          │   │
   │               │ │               ├────────────→│       │   │
   │               │ │               │←────────────┤price  │   │
   │               │ │←──────────────┤lineTotal          │   │
   │               │ └─────────────────────────────────────┘   │
   │               │               │              │             │
   │               │ calculateSubtotal()          │             │
   │               │ (internal calculation)       │             │
   │               │               │              │             │
   │               │ applyDiscounts()             │             │
   │               │ (internal)    │              │             │
   │               │               │              │             │
   │               │ applyTax()    │              │             │
   │               │ (internal)    │              │             │
   │               │               │              │             │
   │               │ createBill()  │              │             │
   │               ├─────────────────────────────────────────→│
   │               │               │              │       create│
   │               │               │              │             │
   │               │←─────────────────────────────────────────┤
   │               │               │              │        bill│
   │←──────────────┤               │              │             │
   │          Bill │               │              │             │
   │               │               │              │             │
   │ printBill()   │               │              │             │
   ├─────────────────────────────────────────────────────────→│
   │               │               │              │             │

Opt [if customer wants receipt]:
   │ sendReceipt(email)            │              │             │
   ├─────────────────────────────────────────────────────────→│
   │               │               │              │      ┌──────┴──────┐
   │               │               │              │      │ Email Receipt│
   │               │               │              │      │    Sent      │
   │               │               │              │      └─────────────┘

Alt [save to database]:
   │ saveToDB()    │               │              │             │
   ├─────────────────────────────────────────────────────────→│
   │               │               │              │      ┌──────┴──────┐
   │               │               │              │      │ Database    │
   │               │               │              │      │   Updated   │
   │               │               │              │      └─────────────┘

Messages:
1. checkout(): Customer initiates checkout process
2. generateBill(): BillGenerator starts bill creation
3. getCart(): Retrieve customer's cart items
4. calculateTotal(): Calculate line totals for each item
5. getPrice(): Get product prices
6. calculateSubtotal(): Sum all line totals
7. applyDiscounts(): Apply available discounts
8. applyTax(): Calculate and add tax
9. createBill(): Generate final bill object
10. printBill(): Display bill to customer
11. sendReceipt(): Optional email receipt
12. saveToDB(): Optional database storage
```

---

## Comparison Summary

| Feature | School Results Application | Grocery Store Application |
|---------|---------------------------|--------------------------|
| **Primary Classes** | Student, Subject, GradeCalculator | Customer, Product, BillGenerator |
| **Main Relationship** | Student ◇ Subject (Aggregation) | Customer ◆ CartItem (Composition) |
| **Key Functionality** | Calculate grades and GPA | Generate itemized bills |
| **Data Processing** | Academic performance calculation | Financial transaction processing |
| **Output** | ResultReport with grades | Bill with totals and tax |
| **Complexity** | Medium (educational domain) | High (commercial transaction) |

## UML Best Practices Applied

### ✅ Class Diagrams
- Clear class names and meaningful attributes
- Proper relationship notation (◇, ◆, →)
- Access modifiers shown where relevant
- Logical package grouping

### ✅ Object Diagrams  
- Realistic instance data
- Clear object states at specific moments
- Consistent naming conventions
- Focused on relevant scenario objects

### ✅ Sequence Diagrams
- Clear message flow from top to bottom
- Proper lifeline representations
- Activation boxes showing object activity
- Alternative and optional flows indicated
- Single use case focus per diagram